<!doctype html>
<html lang="es">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Escape Room: Happy Pandi</title>
    <link rel="stylesheet" href="./style.css" />
</head>

<body>
    <div class="bg" aria-hidden="true"></div>

    <header class="topbar">
        <div class="brand">
            <div class="logo" aria-hidden="true">ğŸ—ï¸</div>
            <div class="brand-text">
                <div class="brand-title">Escape Room: Happy Pandi</div>
                <div class="brand-subtitle">Explora, usa objetos y resuelve misterios</div>
            </div>
        </div>

        <div class="actions">
            <button class="btn" id="btnAyuda">ğŸ§  Reglas</button>
            <button class="btn" id="btnGuardar">ğŸ’¾ Guardar</button>
            <button class="btn" id="btnReiniciar">ğŸ§¹ Reiniciar</button>
        </div>
    </header>

    <main class="app">
        <!-- IZQUIERDA: SALA -->
        <section class="card">
            <div class="sceneHeader">
                <div>
                    <h1 class="h1" id="roomName">Sala</h1>
                    <div class="muted" id="roomSubtitle"></div>
                </div>
                <div class="chips">
                    <span class="chip" id="chipRoom">ğŸ  Sala</span>
                    <span class="chip" id="chipGoal">ğŸ¯ Objetivo</span>
                </div>
            </div>

            <div class="roomArt">
                <div class="roomTitle" id="roomTitle">...</div>
                <p class="roomDesc" id="roomDesc">...</p>

                <div class="badges">
                    <span class="badge" id="badgeCast">ğŸ‘§ğŸ§’ Personajes: ...</span>
                    <span class="badge" id="badgeMood">âœ¨ Tono: ...</span>
                </div>
            </div>

            <div class="hintLine">
                <span class="hintEmoji">ğŸ’¡</span>
                <span class="muted">
          Toca un objeto para <b>mirar</b>. Selecciona un item del inventario para <b>usarlo</b> sobre un objeto.
        </span>
            </div>

            <div class="objects" id="objectsGrid" aria-label="Objetos interactivos"></div>

            <div class="puzzleBox" id="puzzleBox" style="display:none;">
                <div class="puzzleTitle">ğŸ”’ Panel</div>
                <div class="muted" id="puzzleHint"></div>

                <div class="puzzleRow">
                    <input type="text" id="puzzleInput" placeholder="Escribe aquÃ­..." autocomplete="off" />
                    <button class="btn btn-orange" id="btnProbar">Probar</button>
                </div>

                <div class="muted small" id="puzzleExtra"></div>
            </div>

            <div class="navRow">
                <button class="btn btn-primary" id="btnSiguiente" style="display:none;">â¡ï¸ Siguiente sala</button>
            </div>
        </section>

        <!-- DERECHA: INVENTARIO + PISTAS -->
        <aside class="card">
            <div class="sectionHead">
                <h2 class="h2">ğŸ’ Inventario</h2>
                <span class="badge" id="invCount">0 objetos</span>
            </div>

            <div class="activeItemBar" id="activeItemBar">
                <div class="activeItemLeft">
                    <span class="activePill">ğŸ–ï¸ Item activo</span>
                    <span class="muted" id="activeItemText">Ninguno (toca un item)</span>
                </div>
                <button class="btn btn-mini" id="btnClearActive">Quitar</button>
            </div>

            <div class="inventory" id="inventory"></div>

            <div class="spacer"></div>

            <div class="sectionHead">
                <h2 class="h2">ğŸ§© Pistas</h2>
                <span class="badge" id="clueCount">0 pistas</span>
            </div>
            <ol class="clues" id="clues"></ol>

            <div class="spacer"></div>

            <div class="sectionHead">
                <h2 class="h2">ğŸšª Progreso</h2>
            </div>
            <div class="muted" id="progressText">...</div>
        </aside>
    </main>

    <!-- Modal Reglas -->
    <dialog id="modalAyuda">
        <div class="modalCard">
            <div class="modalHead">
                <h3 class="h3">ğŸ§  Reglas del Escape</h3>
                <button class="btn btn-mini" id="btnCerrarAyuda">âœ–ï¸</button>
            </div>
            <div class="modalBody">
                <p>
                    1) Toca objetos para <b>mirar</b> y conseguir pistas.<br> 2) Toca un item del inventario para hacerlo <b>activo</b>.<br> 3) Con el item activo, toca un objeto para <b>usarlo</b>.<br> 4) No hay reloj: piensa con calma. Si fallas, Â¡no
                    pasa nada!
                </p>
            </div>
            <div class="modalActions">
                <button class="btn btn-primary btn-big" id="btnEntendido">Â¡Entendido!</button>
            </div>
        </div>
    </dialog>

    <!-- Modal Mensajes -->
    <dialog id="modalMsg">
        <div class="modalCard">
            <div class="modalHead">
                <h3 class="h3" id="modalTitle">Mensaje</h3>
                <button class="btn btn-mini" id="btnCerrarMsg">âœ–ï¸</button>
            </div>
            <div class="modalBody" id="modalBody"></div>
            <div class="modalActions">
                <button class="btn btn-primary" id="btnOkMsg">OK</button>
            </div>
        </div>
    </dialog>

    <div class="toast" id="toast" role="status" aria-live="polite"></div>

    <script src="./app.js" defer></script>
</body>

</html>